/*! csvfilegenerator - v0.0.2
 *  Release on: 2016-10-07
 *  Copyright (c) 2016 Juan Tabares
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.CsvFileGenerator=b()}):"object"==typeof exports?module.exports=b():a.CsvFileGenerator=b()}(this,function(){"use strict";function a(a){this.options=a||{},this.options.headers=this.options.headers||[],this.options.rows=this.options.rows||[],this.options.filename=this.options.filename||"data.csv",this.fileObject=null}return a.prototype={setHeaders:function(a){this.options.headers=a},addRow:function(a){this.options.rows.push(a)},clearRows:function(){this.options.rows=[]},hasData:function(){return this.options.rows.length>0},generateFile:function(){if(!this.fileObject){var a="\ufeff",b="\r\n";this.options.headers.length&&(a+=this.options.headers.join(",")+b),a+=this.options.rows.join(b),window.navigator.msSaveOrOpenBlob?this.fileObject=new Blob([decodeURIComponent(encodeURI(a))],{type:"text/csv;charset=utf-8;"}):(this.fileObject=document.createElement("a"),this.fileObject.href="data:attachment/csv;charset=utf-8,"+encodeURIComponent(a),this.fileObject.target="_blank",document.body.appendChild(this.fileObject))}window.navigator.msSaveOrOpenBlob?navigator.msSaveBlob(this.fileObject,this.options.filename):(this.fileObject.download=this.options.filename,this.fileObject.click())}},a});